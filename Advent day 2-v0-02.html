<!DOCTYPE html>

<html lang="en">

<head>

  <title>2022 Advent of Code, Day 2.</title>

  <meta charset="UTF-8" />

  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <meta name="description" content="" />

</head>

<body>

  <h1>2022 Advent of Code, Day 2.</h1>

<p>Save your input as a .txt file, and select it using this file selector.</p>

<input type="file" onchange="readFile(this)">

<script>
function readFile(input) {

	let file = input.files[0];
	let reader = new FileReader();
	let score = 0;
	reader.readAsText(file);
	
	reader.onload = function(){
		let inputarray = reader.result.split(/\r\n|\n/);
		for( var line = 0; line < inputarray.length-1; line++){
			let currentstring = inputarray[line];

			if (currentstring.includes('X')){
				console.log("Suggested outcome: lose!");
				if (currentstring.includes('A')){
					score = score+3;
				} else if  (currentstring.includes('B')){
					score = score+1;
				} else if  (currentstring.includes('C')){
					score = score+2;
				}
			} else if (currentstring.includes('Y')){

				console.log("Suggested outcome: draw!");
				score = score+3;
				if (currentstring.includes('A')){
					score = score+1;
				} else if  (currentstring.includes('B')){
					score = score+2;
				} else if  (currentstring.includes('C')){
					score = score+3;
				}
			} else if (currentstring.includes('Z')){
				console.log("Suggested outcome: win!");
				score = score+6;
				if (currentstring.includes('A')){
					score = score+2;
				} else if  (currentstring.includes('B')){
					score = score+3;
				} else if  (currentstring.includes('C')){
					score = score+1;
				}
			}

		}
		window.alert("The expected score from follwing this strategy guide is " + score);
	}
  reader.onerror = function() {
    console.log("error " + reader.error);
  };
}
</script>
</body>

</html>